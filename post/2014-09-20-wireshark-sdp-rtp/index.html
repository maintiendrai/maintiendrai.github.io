<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  
  <meta name="generator" content="Hugo 0.104.1" />

  

  
  <link rel="apple-touch-icon" sizes="180x180" href="http://maintiendrai.github.io/apple-touch-icon.png">

  
  <link rel="icon" type="image/png" sizes="32x32" href="http://maintiendrai.github.io/favicon-32x32.png">

  
  <link rel="icon" type="image/png" sizes="16x16" href="http://maintiendrai.github.io/favicon-16x16.png">

  
  <link rel="manifest" href="http://maintiendrai.github.io/site.webmanifest">

  
  <link rel="mask-icon" href="http://maintiendrai.github.io/safari-pinned-tab.svg" color="">

  <meta name="msapplication-TileColor" content="">

  <meta name="theme-color" content="">

  
  <link rel="stylesheet" href="http://maintiendrai.github.io/css/bootstrap.min.css" />

  
  <title>Wireshark分析SIP交换中的SDP及RTP的工作过程 | 黑暗民谣</title>
  

  <style>
body {
  min-width: 300px;
}

.custom-navbar {
  margin-bottom: 1em;
  height: 60px;
}

.custom-navbar a {
  display: inline-block; 
  padding: 18px 0;
  margin-right: 1em; 
  font-weight: bold; 
}

.custom-navbar a:hover,
.custom-navbar a:focus {
  text-decoration: none; 
}

@media print {
  .custom-navbar {
    display: none;
  }
}

article {
  padding-bottom: 1em;
}

img {
  max-width: 100%;
}


body {
  background-color: #fff;
}



body {
  color: #212529;
}



a {
  color: #007bff;
}



a:hover,
a:focus {
  color: #0056b3;
}



.custom-navbar {
  background-color: #212529;
}



.custom-navbar a {
  color: rgba(255,255,255,.75);
}



.custom-navbar a:hover,
.custom-navbar a:focus {
  color: rgba(255,255,255,1);
}



.container {
  max-width: 800px;
}





</style>
</head>

<body>
  <nav class="custom-navbar">
  <div class="container">
    
  </div>
</nav>
  
  <div class="container">
    <article>
      <h1>Wireshark分析SIP交换中的SDP及RTP的工作过程</h1>
<p>
  <small class="text-secondary">
  
  
  September 20, 2014
  </small>
  

<small><code><a href="http://maintiendrai.github.io/tags/sip">SIP</a></code></small>

  

<small><code><a href="http://maintiendrai.github.io/categories/programming">Programming</a></code></small>


</p>
<h3 id="一sip协议告知对方udp端口号协商媒体类型">一、SIP协议告知对方UDP端口号，协商媒体类型</h3>
<p>0.0  整个通信过程分析图</p>
<p><img src="http://ww1.sinaimg.cn/large/637573b1gw1ekm90hpuo4j20kk0bbju3.jpg" alt="Mou icon"></p>
<p>1.1  主叫方发给被叫方的INVITE请求</p>
<p><img src="http://ww4.sinaimg.cn/large/637573b1gw1ekm80zx8vrj20kj0a5jtn.jpg" alt="Mou icon"></p>
<p>1.2  被叫方回给主叫方的180消息</p>
<p><img src="http://ww1.sinaimg.cn/large/637573b1gw1el653fadnzj20kk0aj76r.jpg" alt="Mou icon"></p>
<h3 id="二rtp媒体流">二、RTP媒体流</h3>
<p>2.1  主叫方发给被叫方的一个RTP包，UDP端口号是SDP协商好的，包的序列号是0</p>
<p><img src="http://ww4.sinaimg.cn/large/637573b1gw1ekm8m5uz36j20kk0al769.jpg" alt="Mou icon"></p>
<p>第二个RTP包，包的序列号是0，其它一样</p>
<p><img src="http://ww2.sinaimg.cn/large/637573b1gw1ekm8owhyqqj20kk0abmz1.jpg" alt="Mou icon"></p>
<h3 id="三rtcp包">三、RTCP包</h3>
<p>3.1  每发完一批RTP包的时候，就发一个RTCP包，告诉接收方我刚才发了多少RTP包，多少个字节</p>
<p><img src="http://ww3.sinaimg.cn/large/637573b1gw1ekm8y9ou8tj20kk0abjtk.jpg" alt="Mou icon">
i</p>

    </article>
  </div>

  
  
  

  

  
</body>

</html>
